# Maintainer: george <rpubaddr0 {at} gmail [dot] com>

pkgname=p0f-dev
_pkgname=p0f
pkgver=3.05b
_pkgver=3.05b
pkgrel=1
pkgdesc='A passive OS fingerprinting tool - development version.'
arch=('i686' 'x86_64')
url='http://lcamtuf.coredump.cx/p0f3/'
license=('LGPL2')
depends=('libpcap' 'coreutils')
conflicts=('p0f')
source=("http://lcamtuf.coredump.cx/p0f3/releases/${_pkgname}-${_pkgver}.tgz")
sha256sums=('c4663e669fe43ef4f36f1f5935c4fab571ef19838c4aed90cf3b8bc2264f6b3b')

build() {
  cd "${_pkgname}-${_pkgver}"
  make
  cd tools
  make
}

package() {
  cd "${_pkgname}-${_pkgver}"
  install -dm755 "${pkgdir}/etc/"
  install -dm755 "${pkgdir}/usr/sbin/"
  install -Dm644 p0f.fp "${pkgdir}/etc/p0f.fp"
  install -Dm755 p0f tools/{p0f-client,p0f-sendsyn,p0f-sendsyn6} "${pkgdir}/usr/sbin/"
}
